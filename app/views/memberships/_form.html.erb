<script>
  function selectChange(sel) {
    if (sel.value == 'Mensual'){

      $("#valor_pago").val(75000);
    }else{

      $("#valor_pago").val(1220000);
    }
  }
</script>
<script>
  $("#membership_periodicidad").on('change', function() {
    var a = $("#membership_society_id").val();
    console.log(a);
    var value = ('<% Society.first.nombre %>');
    console.log(value);

    if($("#membership_periodicidad").val() == "Anual"){
      $("#valor_pago").val(115000)
    } else if($("#membership_periodicidad").val() == "Mensual") {
      $("#valor_pago").val(555)
    }


  });
</script>

<%= form_for(@membership) do |f| %>
  <% if @membership.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@membership.errors.count, "error") %> prohibited this membership from being saved:</h2>

      <ul>
      <% @membership.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
    <div class="jumbotron div-formulario nuevo">
<div>
  <p>
    <%= hidden_field :client_id, :value =>  params[:id]%>
  </p>
</div>
    <div class="field">
      <strong>Tipo de Membresia</strong><br>
      <%= f.select(:society_id, @society_options) %>

    </div>
  <div class="field">
    <%= f.label :periodicidad %><br>
    <%= f.select :periodicidad, ['Anual', 'Mensual'],{}, {:onchange => 'selectChange(this)'}%>
  </div>
    <div class="field">
      <%= f.label :fecha_afiliacion %><br>
      <%= f.date_select :fecha_afiliacion, :readonly => true %>
    </div>

  <!-- Campos para el pago -->
    <hr>
  <div>
    <strong>Valor a pagar </strong>

    <input id="valor_pago" name="valor_pago" type="number" value="1220000" >
  </div><br>
  <div>
   <strong>Forma de pago:</strong> <select name="formaDePago">
    <%= @formasDePago.each do |forma| %>
        <option value="<%= forma.id %>"><%= forma.nombre %></option>
    <% end %>
  </select>
  </div><br>
  <div>
   <strong>Valor Recibido:</strong>  <input id="valor_recibido" name="valor_recibido" placeholder="Valor Recibido" type="number">
  </div><br>


<div class="col-md-1 ">
            <%= button_tag(type: :submit, class: "btn btn-lg btn-success") do %>
            <i class="fa fa-check-square" aria-hidden="true" data-toggle="modal" data-target="#mynewreceipt"></i> Afiliar
            <% end %>
        </div>
        
        


<% end %>
</div>